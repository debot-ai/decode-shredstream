# Jito Shredstream Proxy

ShredStream provides the lowest latency to shreds from leaders on Solana. 

See more at https://docs.jito.wtf/lowlatencytxnfeed/

## é¡¹ç›®ç®€ä»‹

è¿™æ˜¯ä¸€ä¸ªç”¨äºè¿æ¥ Jito Shredstream ä»£ç†æœåŠ¡å™¨çš„ Rust åº”ç”¨ç¨‹åºï¼Œå¯ä»¥å®æ—¶æ¥æ”¶å’Œå¤„ç† Solana åŒºå—é“¾çš„ entries æ•°æ®ã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸ”— **å®æ—¶è¿æ¥**: è¿æ¥åˆ° Jito Shredstream ä»£ç†æœåŠ¡å™¨
- ğŸ“Š **æ•°æ®å¤„ç†**: å®æ—¶å¤„ç† Solana entries å’Œäº¤æ˜“æ•°æ®
- ğŸš€ **é«˜æ€§èƒ½**: ä½¿ç”¨å¼‚æ­¥å¤„ç†å’Œå¹¶å‘æ§åˆ¶
- âš™ï¸ **å¯é…ç½®**: æ”¯æŒå‘½ä»¤è¡Œå‚æ•°è‡ªå®šä¹‰æœåŠ¡å™¨åœ°å€
- ğŸ‡¨ğŸ‡³ **ä¸­æ–‡ç•Œé¢**: å®Œæ•´çš„ä¸­æ–‡ç”¨æˆ·ç•Œé¢å’Œé”™è¯¯æç¤º

## ç¼–è¯‘

### ç¯å¢ƒè¦æ±‚

- Rust 1.70+ 
- Cargo

### æœ¬åœ°ç¼–è¯‘

#### macOS (Apple Silicon)
```bash
# ç¼–è¯‘ macOS ARM64 ç‰ˆæœ¬
cargo build --release --example deshred
```

#### Linux x86_64
```bash
# åœ¨ Linux x86_64 ç³»ç»Ÿä¸Šç¼–è¯‘
cargo build --release --example deshred
```

### äº¤å‰ç¼–è¯‘ (Linux x86_64)

ç”±äºæ¶æ„å·®å¼‚ï¼Œåœ¨ Apple Silicon Mac ä¸Šç¼–è¯‘ä¼šç”Ÿæˆ ARM64 æ¶æ„çš„äºŒè¿›åˆ¶æ–‡ä»¶ã€‚è¦åœ¨ CentOS 9 ç­‰ x86_64 Linux ç³»ç»Ÿä¸Šè¿è¡Œï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•ï¼š

#### æ–¹æ³• 1: ä½¿ç”¨ Docker äº¤å‰ç¼–è¯‘è„šæœ¬
```bash
# è¿è¡Œäº¤å‰ç¼–è¯‘è„šæœ¬
chmod +x build-linux.sh
./build-linux.sh
```

#### æ–¹æ³• 2: æ‰‹åŠ¨ Docker ç¼–è¯‘
```bash
# ä½¿ç”¨ Docker è¿›è¡Œäº¤å‰ç¼–è¯‘
docker run --rm -v "$(pwd):/app" -w /app rust:1.84-slim bash -c "
    apt-get update && apt-get install -y build-essential pkg-config libssl-dev
    cargo build --release --example deshred
    cp target/release/examples/deshred deshred-linux-x86_64
    chmod +x deshred-linux-x86_64
"
```

### ç¼–è¯‘è¾“å‡º

ç¼–è¯‘å®Œæˆåï¼ŒäºŒè¿›åˆ¶æ–‡ä»¶å°†ç”Ÿæˆåœ¨ï¼š
```
target/release/examples/deshred          # macOS ARM64 ç‰ˆæœ¬
deshred-linux-x86_64                     # Linux ç‰ˆæœ¬ (å¦‚æœä½¿ç”¨äº¤å‰ç¼–è¯‘)
```

## ä½¿ç”¨æ–¹æ³•

### åŸºæœ¬ç”¨æ³•

```bash
# ä½¿ç”¨é»˜è®¤æœåŠ¡å™¨åœ°å€ (172.245.211.10:8002)
./target/release/examples/deshred

# æŒ‡å®šè‡ªå®šä¹‰æœåŠ¡å™¨åœ°å€
./target/release/examples/deshred --host x.x.x.x:8001

# æŸ¥çœ‹å¸®åŠ©ä¿¡æ¯
./target/release/examples/deshred --help
```

### æ¶æ„å…¼å®¹æ€§è¯´æ˜

âš ï¸ **é‡è¦æç¤º**: ç”±äºæ¶æ„å·®å¼‚ï¼Œåœ¨ä¸åŒå¹³å°ä¸Šç¼–è¯‘çš„äºŒè¿›åˆ¶æ–‡ä»¶å¯èƒ½æ— æ³•åœ¨å…¶ä»–å¹³å°ä¸Šè¿è¡Œï¼š

- **Apple Silicon Mac**: ç¼–è¯‘ç”Ÿæˆ ARM64 æ¶æ„äºŒè¿›åˆ¶æ–‡ä»¶
- **Intel Mac**: ç¼–è¯‘ç”Ÿæˆ x86_64 æ¶æ„äºŒè¿›åˆ¶æ–‡ä»¶  
- **Linux x86_64**: ç¼–è¯‘ç”Ÿæˆ x86_64 æ¶æ„äºŒè¿›åˆ¶æ–‡ä»¶

**è§£å†³æ–¹æ¡ˆ**:
1. åœ¨ç›®æ ‡å¹³å°ä¸Šç›´æ¥ç¼–è¯‘
2. ä½¿ç”¨ Docker å®¹å™¨è¿è¡Œ (æ¨è)
3. ä½¿ç”¨äº¤å‰ç¼–è¯‘ (éœ€è¦é¢å¤–é…ç½®)

### Docker è¿è¡Œæ–¹å¼ (æ¨è)

```bash
# åˆ›å»º Docker é•œåƒ
docker build -f Dockerfile.simple -t shredstream .

# è¿è¡Œå®¹å™¨
docker run --rm shredstream --host 172.245.211.10:8002
```

### å‘½ä»¤è¡Œå‚æ•°

| å‚æ•° | è¯´æ˜ | é»˜è®¤å€¼            | ç¤ºä¾‹ |
|------|------|----------------|------|
| `--host` | æœåŠ¡å™¨åœ°å€ | `x.x.x.x:8001` | `--host x.x.x.x:8001` |
| `-h, --help` | æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯ | -              | `--help` |

### è¿è¡Œç¤ºä¾‹

```bash
# è¿æ¥åˆ°é»˜è®¤æœåŠ¡å™¨
$ ./target/release/examples/deshred
æ­£åœ¨è¿æ¥åˆ°æœåŠ¡å™¨ http://x.x.x.x:8001...
æˆåŠŸè¿æ¥åˆ°æœåŠ¡å™¨
æ­£åœ¨è®¢é˜… entries æµ...
æˆåŠŸè®¢é˜… entries æµ
å¼€å§‹æ¥æ”¶æ•°æ®...
slot 123456789, entries: 5, transactions: 25
Slot: 123456789, Entry: 0, Tx: 0, Hash: 5J7X...
Slot: 123456789, Entry: 0, Tx: 1, Hash: 3K8Y...
...
```

## è¾“å‡ºè¯´æ˜

ç¨‹åºè¿è¡Œæ—¶ä¼šè¾“å‡ºä»¥ä¸‹ä¿¡æ¯ï¼š

1. **è¿æ¥çŠ¶æ€**: æ˜¾ç¤ºæœåŠ¡å™¨è¿æ¥è¿›åº¦
2. **è®¢é˜…çŠ¶æ€**: æ˜¾ç¤º entries æµè®¢é˜…çŠ¶æ€
3. **æ•°æ®ç»Ÿè®¡**: æ¯ä¸ª slot çš„ entries æ•°é‡å’Œäº¤æ˜“æ•°é‡
4. **äº¤æ˜“è¯¦æƒ…**: æ¯ä¸ªäº¤æ˜“çš„ slotã€entryã€äº¤æ˜“ç´¢å¼•å’Œå“ˆå¸Œå€¼

## é”™è¯¯å¤„ç†

ç¨‹åºåŒ…å«å®Œæ•´çš„é”™è¯¯å¤„ç†æœºåˆ¶ï¼š

- **è¿æ¥å¤±è´¥**: æ˜¾ç¤ºè¯¦ç»†çš„è¿æ¥é”™è¯¯ä¿¡æ¯
- **è®¢é˜…å¤±è´¥**: æ˜¾ç¤ºè®¢é˜…é”™è¯¯ä¿¡æ¯
- **ååºåˆ—åŒ–é”™è¯¯**: è·³è¿‡æŸåçš„æ•°æ®å¹¶ç»§ç»­å¤„ç†
- **ç½‘ç»œé”™è¯¯**: è‡ªåŠ¨é‡è¿å’Œé”™è¯¯æ¢å¤

## æ€§èƒ½ä¼˜åŒ–

- **å¹¶å‘æ§åˆ¶**: ä½¿ç”¨ä¿¡å·é‡é™åˆ¶å¹¶å‘ä»»åŠ¡æ•°é‡ï¼ˆé»˜è®¤10ä¸ªï¼‰
- **å¼‚æ­¥å¤„ç†**: æ‰€æœ‰ç½‘ç»œæ“ä½œéƒ½æ˜¯å¼‚æ­¥çš„
- **å†…å­˜ä¼˜åŒ–**: ä½¿ç”¨æµå¼å¤„ç†ï¼Œé¿å…å†…å­˜æº¢å‡º

## å¼€å‘

### é¡¹ç›®ç»“æ„

```
shredstream-proxy/
â”œâ”€â”€ app/                    # åº”ç”¨ç¨‹åºä»£ç 
â”‚   â”œâ”€â”€ Cargo.toml         # åº”ç”¨ä¾èµ–é…ç½®
â”‚   â””â”€â”€ deshred.rs         # ä¸»ç¨‹åºä»£ç 
â”œâ”€â”€ jito_protos/           # Jito åè®®å®šä¹‰
â”œâ”€â”€ proxy/                 # ä»£ç†æœåŠ¡å™¨ä»£ç 
â””â”€â”€ target/                # ç¼–è¯‘è¾“å‡ºç›®å½•
```

### å¼€å‘ç¯å¢ƒè®¾ç½®

```bash
# å®‰è£… Rust (å¦‚æœè¿˜æ²¡æœ‰å®‰è£…)
curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh

# æ›´æ–° Rust
rustup update

# æ£€æŸ¥ç‰ˆæœ¬
rustc --version
cargo --version
```

### è°ƒè¯•æ¨¡å¼ç¼–è¯‘

```bash
# è°ƒè¯•ç‰ˆæœ¬ç¼–è¯‘
cargo build --example deshred

# è¿è¡Œè°ƒè¯•ç‰ˆæœ¬
cargo run --example deshred -- --host x.x.x.x:8001
```

## æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **è¿æ¥è¢«æ‹’ç»**
   - æ£€æŸ¥æœåŠ¡å™¨åœ°å€æ˜¯å¦æ­£ç¡®
   - ç¡®è®¤æœåŠ¡å™¨æ˜¯å¦æ­£åœ¨è¿è¡Œ
   - æ£€æŸ¥ç½‘ç»œè¿æ¥

2. **ç¼–è¯‘é”™è¯¯**
   - ç¡®ä¿ Rust ç‰ˆæœ¬ >= 1.70
   - è¿è¡Œ `cargo clean` æ¸…ç†ç¼“å­˜
   - æ£€æŸ¥ä¾èµ–æ˜¯å¦æ­£ç¡®å®‰è£…

3. **æƒé™é—®é¢˜**
   - ç¡®ä¿äºŒè¿›åˆ¶æ–‡ä»¶æœ‰æ‰§è¡Œæƒé™ï¼š`chmod +x target/release/examples/deshred`

## è®¸å¯è¯

æœ¬é¡¹ç›®éµå¾ªç›¸åº”çš„å¼€æºè®¸å¯è¯ã€‚

## å…è´£å£°æ˜

Use this at your own risk.

## ç›¸å…³é“¾æ¥

- [Jito å®˜æ–¹æ–‡æ¡£](https://docs.jito.wtf/lowlatencytxnfeed/)
- [Solana å®˜æ–¹æ–‡æ¡£](https://docs.solana.com/)
- [Rust å®˜æ–¹æ–‡æ¡£](https://doc.rust-lang.org/)
